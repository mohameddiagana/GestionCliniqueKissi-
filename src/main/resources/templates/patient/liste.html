<!DOCTYPE html>
<html xmlns:th= "http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="UTF-8"/>
        <h1>Information Patient</h1>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
              integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </head>
<body>
<div class="container">
    <div class="card">
        <div class="card-header">Liste des Patient</div>
        <div class="card-body" style="overflow-y:scroll">
            <table class="table table-striped">
                <thead class="table-dark">
                <tr>
                    <th>idpatient</th>
                    <th>codep</th>
                    <th>nomp</th>
                    <th>prenom</th>
                    <th>email</th>
                    <th>tel</th>
                    <th>sexe</th>
                    <th>datenaissance</th>
                    <th>adresse</th>
                    <th>profession></th>
                    <th>CIN</th>
                    <th>age</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p : ${list_patients}">
                    <td th:text="${p.idpatient}"></td>
                    <td th:text="${p.codep}"></td>
                    <td th:text="${p.nomp}"></td>
                    <td th:text="${p.prenom}"></td>
                    <td th:text="${p.email}"></td>
                    <td th:text="${p.tel}"></td>
                    <td th:text="${p.sexe}"></td>
                    <td th:text="${p.datenaissance}"></td>
                    <td th:text="${p.adresse}"></td>
                    <td th:text="${p.profession}"></td>
                    <td th:text="${p.CIN}"></td>
                    <td th:text="${p.age}"></td>
                    <td>
                        <a class="btn btn-primary"
                           th:href="@{/api/v1/auth/patient/edit(idpatient=${p.idpatient})}">Edit
                        </a>

                    </td>

                    <td>
                        <a class="btn btn-danger"
                           onclick="return confirm('Etes Vous Sure de vouloir supprimer ce Patient !!! ')"
                           th:href="@{/api/v1/auth/patient/delete(idpatient=${p.idpatient})}">Supprimer</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="panel-heading">Formulaire des Patient
            <div class="panel-body">
                <form method="POST" th:action="@{/api/v1/auth/patient/add}" th:object="${Patient}">

                    <label> IdPatient :</label>
                    <input class="form-control" type="text" readonly th:field="*{idpatient}"/>

                    <label> CodeP :</label>
                    <input type="text" name="codep" required th:field="*{codep}"/>

                    <label> NomP :</label>
                    <input type="text" name="nomp" required th:field="*{nomp}"/>

                    <label> Prenom :</label>
                    <input type="text" name="prenom" required th:field="*{prenom}"/>

                    <label> Email :</label>
                    <input type="text" name="email" required th:field="*{email}"/>

                    <label> Tel :</label>
                    <input type="text" name="tel" required th:field="*{tel}"/>

                    <label> DateNaissance :</label>
                    <input type="date" name="datenaissance" required th:field="*{datenaissance}"/>

                    <label> Aresse :</label>
                    <input type="text" name="adresse" required th:field="*{adresse}"/>

                    <label> Profession :</label>
                    <input type="text" name="profession" required th:field="*{profession}"/>

                    <label> CIN :</label>
                    <input type="text" name="CIN" required th:field="*{CIN}"/>

                    <label> Age :</label>
                    <input type="text" name="age" th:field="*{age}"/>


                    <select name="sexe" required>
                        <option value="">--Choisir une option--</option>
                        <option value="Homme">homme</option>
                        <option value="Femme">femme</option>
                        <option value="Autre">Autre</option>
                    </select>
                    <br>

                    <div class="form-group">
                        <input class="btn btn-success" type="submit" name="Ajouter"
                               value ="Ajout patient"/>
                        <input class="btn btn-secondary" type=reset name="annuler" value="Annuler"/>

                    </div>
                </form>
            </div>
        </div>

    </div>

</div>
</div>
</div>
</div>

</div>
</body>


</html>